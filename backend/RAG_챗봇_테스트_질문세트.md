# RAG 챗봇 테스트 질문 세트

## 📋 개요

- **생성 일시**: 2025-10-20
- **대상 시스템**: 돌콩봇 (Dollkongbot) - RAG 기반 인사 규정 챗봇
- **데이터 소스**: 직원 인사_복리후생_기준(Version6).xlsx
- **총 청크 수**: 116개
- **벡터 DB**: Qdrant
- **임베딩 모델**: jhgan/ko-sbert-nli (768차원)
- **LLM 모델**: Google Gemini

---

## 📊 테스트 카테고리 요약

| 카테고리 | 테스트 케이스 수 | 설명 |
|---------|----------------|------|
| 1. 정상 시나리오 | 15개 | 일반적인 사용자 질문에 대한 정상 응답 테스트 |
| 2. 엣지 케이스 | 18개 | 모호한 질문, 오타, 없는 정보 등 예외 상황 처리 |
| 3. 성능 테스트 | 12개 | 응답 속도, 동시성, 부하 처리 성능 검증 |
| 4. 출처 검증 | 15개 | 검색 결과의 정확성, 메타데이터, 출처 추적 |
| **총계** | **60개** | |

---

## 1️⃣ 정상 시나리오 (15개)

일반적인 사용자 질문에 대한 정상 응답 테스트

### 1.1 휴가 관련

#### TC-N-001: 연차 조회
- **질문**: "연차 휴가는 며칠인가요?"
- **기대 결과**: 정확한 연차 일수 및 조건 제공
- **검증 포인트**: 문서 검색 성공, 정확한 숫자 포함, 출처 표시
- **우선순위**: High
- **비고**: 기본 정보 조회

#### TC-N-002: 경조사 휴가
- **질문**: "경조사 휴가 기준이 어떻게 되나요?"
- **기대 결과**: 경조사 종류별 휴가 일수 및 유급/무급 안내
- **검증 포인트**: 결혼, 출산, 사망 등 케이스별 정보, 휴가 일수, 유급 여부
- **우선순위**: High
- **비고**: 복수 정보 종합

#### TC-N-003: 출산 휴가
- **질문**: "출산 휴가는 얼마나 받을 수 있나요?"
- **기대 결과**: 출산 휴가 기간, 급여, 연장 가능 여부 안내
- **검증 포인트**: 30만원 지급, 육아휴직 관련 정보 포함
- **우선순위**: High
- **비고**: 상세 정보 제공

#### TC-N-004: 육아휴직
- **질문**: "육아휴직 기간은 얼마나 되나요?"
- **기대 결과**: 최대 1년, 유급/무급 기간 구분 설명
- **검증 포인트**: 법령 준수, 무급 연장 가능 정보
- **우선순위**: Medium
- **비고**: 법령 관련 정보

#### TC-N-005: 휴가 사용 촉진
- **질문**: "휴가 사용 촉진 제도가 있나요?"
- **기대 결과**: 휴가 사용 촉진 관련 규정 설명
- **검증 포인트**: 문서 내 관련 내용 검색 및 제공
- **우선순위**: Medium
- **비고**: 제도 관련 질문

### 1.2 복리후생 관련

#### TC-N-006: 숙소 제공
- **질문**: "타지 근무 시 숙소 제공이 되나요?"
- **기대 결과**: 고객사 계약 감안하여 숙소 제공 안내
- **검증 포인트**: 타지 근무, 숙소 제공 조건 명시
- **우선순위**: High
- **비고**: 조건부 복리후생

#### TC-N-007: 결혼 경조금
- **질문**: "결혼하면 경조금을 얼마 받나요?"
- **기대 결과**: 본인 결혼 시 경조금 금액 안내 (예: 100만원)
- **검증 포인트**: 정확한 금액, 결혼 조건
- **우선순위**: High
- **비고**: 금액 정보

#### TC-N-008: 부모상 경조금
- **질문**: "부모님이 돌아가시면 경조금은 얼마인가요?"
- **기대 결과**: 부모 사망 시 경조금 및 휴가 일수
- **검증 포인트**: 30만원, 5일 휴가 (예상)
- **우선순위**: High
- **비고**: 중요 경조사 정보

### 1.3 여비 관련

#### TC-N-009: 출장 여비
- **질문**: "출장 여비 기준이 어떻게 되나요?"
- **기대 결과**: 여비 규정에 따른 출장비 안내
- **검증 포인트**: 교통비, 숙박비, 식비 등 항목별 기준
- **우선순위**: Medium
- **비고**: 여비 규정

#### TC-N-010: 교통비
- **질문**: "출장 시 교통비는 얼마나 지급되나요?"
- **기대 결과**: 교통비 지급 기준 (실비 또는 정액)
- **검증 포인트**: 숫자 포함, 교통수단별 기준
- **우선순위**: Medium
- **비고**: 세부 항목

### 1.4 일반 정보

#### TC-N-011: 규정 전체
- **질문**: "인사 규정에는 어떤 내용이 있나요?"
- **기대 결과**: 휴가, 복리후생, 여비 등 주요 카테고리 요약
- **검증 포인트**: 전체 구조 파악, 다수 문서 참조
- **우선순위**: Low
- **비고**: 종합 정보

#### TC-N-012: 최신 규정
- **질문**: "2024년 3월 1일부터 바뀐 규정이 있나요?"
- **기대 결과**: 2024.03.01 개정 내용 안내
- **검증 포인트**: 날짜 필터링, 개정 내용 식별
- **우선순위**: High
- **비고**: 시간 기반 검색

### 1.5 시나리오 기반

#### TC-N-013: 신입 사원
- **질문**: "신입 사원인데 연차는 언제부터 쓸 수 있나요?"
- **기대 결과**: 신규 입사자 연차 발생 기준 안내
- **검증 포인트**: 입사 후 기간, 연차 발생 조건
- **우선순위**: High
- **비고**: 상황별 안내

#### TC-N-014: 결혼 준비
- **질문**: "결혼 준비 중인데 받을 수 있는 혜택은?"
- **기대 결과**: 결혼 휴가, 경조금, 관련 지원 종합 안내
- **검증 포인트**: 복수 정보 통합 제공
- **우선순위**: Medium
- **비고**: 복합 시나리오

#### TC-N-015: 자녀 출산
- **질문**: "아이가 태어났는데 어떤 지원을 받을 수 있나요?"
- **기대 결과**: 출산 휴가, 경조금, 육아휴직 종합 안내
- **검증 포인트**: 관련 제도 전체 안내
- **우선순위**: High
- **비고**: 생애 주기별 지원

---

## 2️⃣ 엣지 케이스 (18개)

모호한 질문, 오타, 없는 정보 등 예외 상황 처리

### 2.1 모호한 질문

#### TC-E-001: 키워드만 입력
- **질문**: "휴가"
- **기대 결과**: 휴가 관련 정보 제공 또는 질문 명확화 요청
- **검증 포인트**: 짧은 키워드 처리, 관련 정보 제시
- **우선순위**: High
- **비고**: 키워드만 입력

#### TC-E-002: 불명확한 질의
- **질문**: "돈 얼마야?"
- **기대 결과**: 구체적인 항목 질문 유도 또는 관련 경조금/수당 정보 제공
- **검증 포인트**: 맥락 파악, 적절한 응답
- **우선순위**: Medium
- **비고**: 불명확한 질의

#### TC-E-003: 범위가 넓은 질문
- **질문**: "규정"
- **기대 결과**: 어떤 규정을 찾는지 재질문 또는 주요 규정 목록 제공
- **검증 포인트**: 카테고리 안내, 사용자 가이드
- **우선순위**: Medium
- **비고**: 범위가 넓은 질문

### 2.2 존재하지 않는 정보

#### TC-E-004: 문서에 없는 내용
- **질문**: "재택근무 수당은 얼마인가요?"
- **기대 결과**: 해당 정보를 찾을 수 없음을 안내, 유사 정보 제공
- **검증 포인트**: Not Found 처리, 대안 제시
- **우선순위**: High
- **비고**: 문서에 없는 내용

#### TC-E-005: 범위 외 질문
- **질문**: "주식 옵션 제도가 있나요?"
- **기대 결과**: 관련 정보 없음 안내
- **검증 포인트**: 검색 실패 처리, 친절한 안내
- **우선순위**: Medium
- **비고**: 범위 외 질문

#### TC-E-006: 과거 데이터 질의
- **질문**: "2023년 규정은 어떻게 되나요?"
- **기대 결과**: 2024년 규정만 제공, 과거 규정 없음 안내
- **검증 포인트**: 시간 범위 처리
- **우선순위**: Medium
- **비고**: 과거 데이터 질의

### 2.3 오타 및 맞춤법

#### TC-E-007: 오타 포함 질문
- **질문**: "연차휴까는 며철인가여?"
- **기대 결과**: 정상적으로 연차 휴가 정보 제공
- **검증 포인트**: 오타 보정, 정규화 처리
- **우선순위**: High
- **비고**: 오타 포함 질문

#### TC-E-008: 심한 오타
- **질문**: "겨르혼 휴가"
- **기대 결과**: 결혼 휴가 정보 제공
- **검증 포인트**: 유사 단어 매칭
- **우선순위**: High
- **비고**: 심한 오타

#### TC-E-009: 띄어쓰기 없음
- **질문**: "출산휴가는며칠인가요"
- **기대 결과**: 정상적으로 출산 휴가 정보 제공
- **검증 포인트**: 띄어쓰기 무시 처리
- **우선순위**: Medium
- **비고**: 띄어쓰기 없음

### 2.4 복합 질문

#### TC-E-010: 2개 이상 질문
- **질문**: "연차도 알려주고 경조사 휴가도 알려주세요"
- **기대 결과**: 연차와 경조사 휴가 모두 안내
- **검증 포인트**: 복수 질의 처리, 종합 응답
- **우선순위**: High
- **비고**: 2개 이상 질문

#### TC-E-011: 연속 이벤트
- **질문**: "결혼하고 아이 낳으면 뭐 받아요?"
- **기대 결과**: 결혼 + 출산 관련 모든 혜택 종합
- **검증 포인트**: 시나리오 기반 종합 답변
- **우선순위**: Medium
- **비고**: 연속 이벤트

### 2.5 극단적 입력

#### TC-E-012: 빈 문자열
- **질문**: ""
- **기대 결과**: 질문을 입력해달라는 안내
- **검증 포인트**: 빈 입력 처리
- **우선순위**: High
- **비고**: 빈 문자열

#### TC-E-013: 무의미 문자열
- **질문**: "ㅁㅁㅁㅁㅁㅁㅁ"
- **기대 결과**: 의미있는 질문 입력 요청
- **검증 포인트**: 무의미 입력 처리
- **우선순위**: Medium
- **비고**: 무의미 문자열

#### TC-E-014: 매우 긴 입력
- **질문**: "a" * 500 (500자)
- **기대 결과**: 적절한 길이의 질문 요청
- **검증 포인트**: 최대 길이 제한 처리
- **우선순위**: Low
- **비고**: 매우 긴 입력

### 2.6 특수 문자

#### TC-E-015: 특수문자 포함
- **질문**: "휴가!@#$%"
- **기대 결과**: 휴가 정보 제공
- **검증 포인트**: 특수문자 제거 후 처리
- **우선순위**: Medium
- **비고**: 특수문자 포함

### 2.7 기타

#### TC-E-016: 동음이의어
- **질문**: "휴가 사용"
- **기대 결과**: 휴가 사용 촉진 또는 연차 사용 방법 안내
- **검증 포인트**: 맥락 파악
- **우선순위**: Medium
- **비고**: 중의적 표현

#### TC-E-017: 부정형 질문
- **질문**: "연차를 못 쓰면 어떻게 되나요?"
- **기대 결과**: 휴가 사용 촉진, 소멸 규정 안내
- **검증 포인트**: 부정형 처리
- **우선순위**: Medium
- **비고**: 부정 표현

#### TC-E-018: 가정 질문
- **질문**: "경조사 휴가를 안 쓰면?"
- **기대 결과**: 미사용 시 처리 방법 안내
- **검증 포인트**: 조건부 시나리오
- **우선순위**: Low
- **비고**: 가정 질문

---

## 3️⃣ 성능 테스트 (12개)

응답 속도, 동시성, 부하 처리 성능 검증

### 3.1 응답 속도

#### TC-P-001: 단순 쿼리 응답 속도
- **질문**: "연차는 며칠인가요?"
- **목표 응답 시간**: < 2초
- **검증 지표**: 전체 처리 시간, 검색 시간, LLM 생성 시간
- **부하 조건**: 단일 사용자, 정상 부하
- **비고**: 기본 성능 측정

#### TC-P-002: 복잡 쿼리 응답 속도
- **질문**: "결혼하고 아이 낳으면 받을 수 있는 모든 혜택을 알려주세요"
- **목표 응답 시간**: < 5초
- **검증 지표**: 복합 정보 검색 시간, 종합 답변 생성 시간
- **부하 조건**: 단일 사용자, 복잡한 쿼리
- **비고**: 복잡 쿼리 성능

### 3.2 동시성 테스트

#### TC-P-003: 10명 동시 요청
- **질문**: "휴가 사용 촉진 제도는?"
- **목표 응답 시간**: < 3초 (평균)
- **검증 지표**: 동시 처리 성능, 응답 시간 편차
- **부하 조건**: 10명 동시 요청
- **비고**: 동시성 테스트

#### TC-P-004: 50명 동시 요청
- **질문**: "경조사 휴가 기준"
- **목표 응답 시간**: < 5초 (평균)
- **검증 지표**: 처리량, 에러율, 응답 시간 분포
- **부하 조건**: 50명 동시 요청
- **비고**: 부하 테스트

### 3.3 내구성 테스트

#### TC-P-005: 100회 연속 요청
- **질문**: "연차 휴가"
- **목표 응답 시간**: < 2초 (평균)
- **검증 지표**: 처리 안정성, 메모리 사용량, CPU 사용률
- **부하 조건**: 1명이 100회 연속 요청
- **비고**: 내구성 테스트

#### TC-P-006: 대용량 문서
- **질문**: "인사 규정 전체 내용은?"
- **목표 응답 시간**: < 10초
- **검증 지표**: 벡터 검색 성능, 대용량 컨텍스트 처리
- **부하 조건**: 전체 문서 스캔
- **비고**: 대용량 처리

### 3.4 캐싱 및 최적화

#### TC-P-007: 캐싱 효과
- **질문**: "연차는 며칠인가요? (반복)"
- **목표 응답 시간**: < 1초 (2회째부터)
- **검증 지표**: 캐시 적중률, 응답 시간 감소
- **부하 조건**: 동일 질문 반복
- **비고**: 캐시 성능

#### TC-P-008: 피크 타임
- **질문**: 다양한 질문들
- **목표 응답 시간**: < 5초 (90 percentile)
- **검증 지표**: 피크 시간 처리 능력
- **부하 조건**: 100명 동시 접속, 랜덤 질문
- **비고**: 피크 부하

#### TC-P-009: 장시간 운영
- **질문**: 휴가/복리후생 관련 질문
- **목표**: 성능 저하 < 10%
- **검증 지표**: 메모리 누수, 성능 저하 추세
- **부하 조건**: 24시간 연속 운영
- **비고**: 안정성 테스트

### 3.5 컴포넌트별 성능

#### TC-P-010: 임베딩 성능
- **질문**: 100자 이상 긴 질문
- **목표 응답 시간**: 임베딩 < 0.5초
- **검증 지표**: 임베딩 생성 시간
- **부하 조건**: 다양한 길이의 텍스트
- **비고**: 임베딩 최적화

#### TC-P-011: 벡터 검색 성능
- **질문**: "경조사 휴가"
- **목표 응답 시간**: 검색 < 0.3초
- **검증 지표**: Qdrant 검색 시간, 유사도 점수
- **부하 조건**: 116개 청크 검색
- **비고**: 벡터 DB 성능

#### TC-P-012: LLM 생성 성능
- **질문**: "육아휴직 기간"
- **목표 응답 시간**: 생성 < 2초
- **검증 지표**: LLM 응답 생성 시간, 토큰 수
- **부하 조건**: Gemini API 호출
- **비고**: LLM 최적화

---

## 4️⃣ 출처 검증 (15개)

검색 결과의 정확성, 메타데이터, 출처 추적

### 4.1 출처 정확성

#### TC-S-001: 기본 출처 표시
- **질문**: "연차 휴가는 며칠?"
- **기대 출처**: 직원 인사_복리후생_기준(Version6).xlsx > 인사휴가규정 시트
- **검증 항목**: 파일명, 시트명, 셀 주소 정확성
- **우선순위**: High
- **비고**: 기본 출처 표시

#### TC-S-002: 시트 구분
- **질문**: "경조사 휴가 기준"
- **기대 출처**: 직원 인사_복리후생_기준(Version6).xlsx > 인사휴가규정 시트
- **검증 항목**: 정확한 시트 식별
- **우선순위**: High
- **비고**: 시트 구분

#### TC-S-003: 다른 시트 검색
- **질문**: "출장 여비 기준"
- **기대 출처**: 직원 인사_복리후생_기준(Version6).xlsx > 여비규정 시트
- **검증 항목**: 여비규정 시트에서 검색
- **우선순위**: High
- **비고**: 다른 시트 검색

#### TC-S-004: 여러 출처 통합
- **질문**: "결혼하고 아이 낳으면?"
- **기대 출처**: 인사휴가규정 시트 (복수 위치)
- **검증 항목**: 복수 출처 모두 표시
- **우선순위**: High
- **비고**: 여러 출처 통합

#### TC-S-005: 시간 기반 필터
- **질문**: "2024년 3월 1일부터 바뀐 규정"
- **기대 출처**: 개정 일자 포함된 항목
- **검증 항목**: 날짜 메타데이터 활용
- **우선순위**: Medium
- **비고**: 시간 기반 필터

### 4.2 검색 품질

#### TC-S-006: 유사도 점수
- **질문**: "타지 근무 숙소"
- **기대 결과**: score >= 0.7
- **검증 항목**: 유사도 점수 임계값 확인
- **우선순위**: Medium
- **비고**: 검색 품질

#### TC-S-007: 결과 순서
- **질문**: "휴가 종류"
- **기대 결과**: 관련도 높은 순서로 정렬
- **검증 항목**: score 기준 정렬 확인
- **우선순위**: Medium
- **비고**: 결과 순서

### 4.3 메타데이터

#### TC-S-008: 메타 정보 완전성
- **질문**: "출산 휴가 기간"
- **기대 결과**: 모든 메타데이터 포함
- **검증 항목**: file_name, sheet_name, cell_address, upload_time, chunk_index
- **우선순위**: High
- **비고**: 메타 정보 완전성

#### TC-S-009: 셀 주소 포맷
- **질문**: "결혼 경조금"
- **기대 결과**: 정확한 셀 주소 (예: E8)
- **검증 항목**: 엑셀 셀 주소 형식
- **우선순위**: Medium
- **비고**: 셀 주소 포맷

#### TC-S-010: 문맥 정보
- **질문**: "육아휴직 연장"
- **기대 결과**: 관련 문맥 정보 포함
- **검증 항목**: context_text 필드 활용
- **우선순위**: Medium
- **비고**: 문맥 정보

### 4.4 검색 정확도

#### TC-S-011: 의미 기반 검색
- **질문**: "부모님 돌아가심"
- **기대 결과**: 부모 사망 관련 항목
- **검증 항목**: 자연어 이해, 적절한 매칭
- **우선순위**: High
- **비고**: 의미 기반 검색

#### TC-S-012: 검색 범위
- **질문**: "모든 휴가 종류"
- **기대 결과**: 연차, 경조사, 출산 등 모두 검색
- **검증 항목**: 관련 항목 누락 없이 검색
- **우선순위**: Medium
- **비고**: 검색 범위

#### TC-S-013: 결과 정제
- **질문**: "경조사 휴가"
- **기대 결과**: 중복 없는 결과
- **검증 항목**: 동일 내용 중복 제거
- **우선순위**: Low
- **비고**: 결과 정제

### 4.5 문서 추적

#### TC-S-014: 문서 이력
- **질문**: "언제 업로드된 문서인가요?"
- **기대 결과**: 2025-09-30 (upload_time)
- **검증 항목**: 업로드 시간 추적
- **우선순위**: Low
- **비고**: 문서 이력

#### TC-S-015: 버전 구분
- **질문**: "Version6 기준"
- **기대 결과**: Version6 파일 식별
- **검증 항목**: 파일명의 버전 정보
- **우선순위**: Medium
- **비고**: 버전 구분

---

## 📝 테스트 수행 가이드

### 1. 테스트 준비
1. Qdrant 서버가 실행 중인지 확인
2. 백엔드 서버가 정상 작동하는지 확인
3. 테스트 데이터가 Qdrant에 로드되어 있는지 확인 (116개 청크)

### 2. 테스트 수행 순서
1. **우선순위별 테스트**: High > Medium > Low 순서로 수행
2. **카테고리별 테스트**: 
   - 정상 시나리오 → 출처 검증 → 엣지 케이스 → 성능 테스트
3. **점진적 부하**: 성능 테스트는 낮은 부하부터 시작

### 3. 결과 검증 방법
- **정상 시나리오**: 기대 결과와 실제 답변 내용 비교
- **엣지 케이스**: 오류 없이 적절한 fallback 처리 확인
- **성능 테스트**: 응답 시간 측정 및 목표치 달성 여부
- **출처 검증**: 메타데이터의 정확성 및 완전성 확인

### 4. 테스트 도구
- **수동 테스트**: 프론트엔드 UI 또는 Postman 사용
- **자동 테스트**: Pytest + API 호출 스크립트
- **성능 테스트**: Locust, JMeter 등 부하 테스트 도구

### 5. 결과 기록
- 각 테스트 케이스별로 Pass/Fail 기록
- 실패 시 오류 메시지 및 스크린샷 저장
- 성능 테스트는 응답 시간 및 통계 데이터 기록

---

## 🔍 추가 검증 포인트

### RAG 파이프라인 전체 검증
1. **질문 정규화**: 오타 보정, 동의어 처리 확인
2. **임베딩 품질**: 의미적으로 유사한 질문이 유사한 벡터로 변환되는지 확인
3. **벡터 검색**: 관련도 높은 문서가 상위에 위치하는지 확인
4. **LLM 답변**: 검색된 컨텍스트를 적절히 활용하여 답변하는지 확인
5. **출처 표시**: 답변의 근거가 되는 문서 정보가 정확한지 확인

### 사용자 경험 검증
1. **자연스러운 대화**: 답변이 자연스럽고 이해하기 쉬운지
2. **정확성**: 제공된 정보가 원본 문서와 일치하는지
3. **완전성**: 필요한 정보를 모두 포함하는지
4. **친절성**: Not Found 시 적절한 안내 메시지 제공
5. **일관성**: 동일한 질문에 일관된 답변 제공

---

## 📌 참고사항

- 테스트 케이스는 실제 데이터("직원 인사_복리후생_기준(Version6).xlsx")를 기반으로 작성되었습니다.
- 성능 목표치는 일반적인 기준이며, 실제 환경에 맞게 조정 가능합니다.
- 테스트 결과를 바탕으로 시스템 개선 및 튜닝을 진행하세요.
- 정기적으로 테스트를 수행하여 시스템 품질을 유지하세요.

---

**생성 일시**: 2025-10-20  
**작성자**: AI Assistant  
**버전**: 1.0

